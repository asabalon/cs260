{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block page_title %}
Login
{% endblock %}

{% block page_panel %}
    <div class="container" style="width:350px" >
    <script>
        $(document).ready(function() {
        var msg="";
        var elements = document.getElementsByTagName("INPUT");

        for (var i = 0; i < elements.length; i++) {
           elements[i].oninvalid =function(e) {
                if (!e.target.validity.valid) {
                switch(e.target.name){
                    case 'password' :
                    e.target.setCustomValidity("Password is required");break;
                    case 'username' :
                    e.target.setCustomValidity("Username is required");break;
                default : e.target.setCustomValidity("");break;
                }
               }
            };
           elements[i].oninput = function(e) {
                e.target.setCustomValidity(msg);
            };
        }
        })
    </script>
    <div >
      <form class="form-signin" action="../login/" method="post">
        <h2 class="form-signin-heading">Please sign in</h2>

        {% if next %}
		<input type="hidden" name="next" value="{{ next }}" />
		{% endif %}

        <label for="inputUsername" class="sr-only">Username</label>
        <input type="text" id="inputUsername" name="username" class="form-control" placeholder="UserName" required="" autofocus="" value="{{ username}}">
        <br>
        <label for="inputPassword" class="sr-only">Password</label>
        <input type="password" id="inputPassword" name="password" class="form-control" placeholder="Password" value="" required="">
        {% comment %}<div class="checkbox">
          <label>
            <input type="checkbox" value="remember-me"> Remember me
          </label>
        </div>{% endcomment %}
         <span style="font-size: 20px; color:red; align-content: center" name="state">{{ state }}</span>
        <br><br>
        <button class="btn btn-lg btn-primary btn-block" type="submit" name="btn_submit">Sign in</button>
      </form>
    </div>
    </div>
{% endblock %}